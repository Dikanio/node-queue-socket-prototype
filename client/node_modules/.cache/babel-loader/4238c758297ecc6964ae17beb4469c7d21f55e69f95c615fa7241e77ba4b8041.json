{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\Noak\\\\CaseStudy\\\\client\\\\src\\\\pages\\\\chat\\\\messages.js\",\n  _s = $RefreshSig$();\n// client/src/pages/chat/messages.js\n\nimport styles from './styles.module.css';\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Messages = _ref => {\n  _s();\n  let {\n    socket\n  } = _ref;\n  const [messagesRecieved, setMessagesReceived] = useState([]);\n\n  // Runs whenever a socket event is recieved from the server\n  useEffect(() => {\n    socket.on('receive_message', data => {\n      console.log(data);\n      setMessagesReceived(state => [...state, {\n        message: data.message,\n        username: data.username,\n        __createdtime__: data.__createdtime__\n      }]);\n    });\n\n    // Remove event listener on component unmount\n    return () => socket.off('receive_message');\n  }, [socket]);\n\n  // dd/mm/yyyy, hh:mm:ss\n  function formatDateFromTimestamp(timestamp) {\n    const date = new Date(timestamp);\n    return date.toLocaleString();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.messagesColumn,\n    children: messagesRecieved.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.message,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.msgMeta,\n          children: msg.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.msgMeta,\n          children: formatDateFromTimestamp(msg.__createdtime__)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.msgText,\n        children: msg.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(Messages, \"3rIfIssNvQTmqd6RSEuafKtl6hA=\");\n_c = Messages;\nexport default Messages;\nvar _c;\n$RefreshReg$(_c, \"Messages\");","map":{"version":3,"names":["styles","useState","useEffect","Messages","socket","messagesRecieved","setMessagesReceived","on","data","console","log","state","message","username","__createdtime__","off","formatDateFromTimestamp","timestamp","date","Date","toLocaleString","messagesColumn","map","msg","i","display","justifyContent","msgMeta","msgText"],"sources":["D:/Work/Noak/CaseStudy/client/src/pages/chat/messages.js"],"sourcesContent":["// client/src/pages/chat/messages.js\r\n\r\nimport styles from './styles.module.css';\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst Messages = ({ socket }) => {\r\n  const [messagesRecieved, setMessagesReceived] = useState([]);\r\n\r\n  // Runs whenever a socket event is recieved from the server\r\n  useEffect(() => {\r\n    socket.on('receive_message', (data) => {\r\n      console.log(data);\r\n      setMessagesReceived((state) => [\r\n        ...state,\r\n        {\r\n          message: data.message,\r\n          username: data.username,\r\n          __createdtime__: data.__createdtime__,\r\n        },\r\n      ]);\r\n    });\r\n\r\n\t// Remove event listener on component unmount\r\n    return () => socket.off('receive_message');\r\n  }, [socket]);\r\n\r\n  // dd/mm/yyyy, hh:mm:ss\r\n  function formatDateFromTimestamp(timestamp) {\r\n    const date = new Date(timestamp);\r\n    return date.toLocaleString();\r\n  }\r\n\r\n  return (\r\n    <div className={styles.messagesColumn}>\r\n      {messagesRecieved.map((msg, i) => (\r\n        <div className={styles.message} key={i}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n            <span className={styles.msgMeta}>{msg.username}</span>\r\n            <span className={styles.msgMeta}>\r\n              {formatDateFromTimestamp(msg.__createdtime__)}\r\n            </span>\r\n          </div>\r\n          <p className={styles.msgText}>{msg.message}</p>\r\n          <br />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messages;"],"mappings":";;AAAA;;AAEA,OAAOA,MAAM,MAAM,qBAAqB;AACxC,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC;AAE5C,MAAMC,QAAQ,GAAG,QAAgB;EAAA;EAAA,IAAf;IAAEC;EAAO,CAAC;EAC1B,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;;EAE5D;EACAC,SAAS,CAAC,MAAM;IACdE,MAAM,CAACG,EAAE,CAAC,iBAAiB,EAAGC,IAAI,IAAK;MACrCC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjBF,mBAAmB,CAAEK,KAAK,IAAK,CAC7B,GAAGA,KAAK,EACR;QACEC,OAAO,EAAEJ,IAAI,CAACI,OAAO;QACrBC,QAAQ,EAAEL,IAAI,CAACK,QAAQ;QACvBC,eAAe,EAAEN,IAAI,CAACM;MACxB,CAAC,CACF,CAAC;IACJ,CAAC,CAAC;;IAEL;IACG,OAAO,MAAMV,MAAM,CAACW,GAAG,CAAC,iBAAiB,CAAC;EAC5C,CAAC,EAAE,CAACX,MAAM,CAAC,CAAC;;EAEZ;EACA,SAASY,uBAAuB,CAACC,SAAS,EAAE;IAC1C,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,SAAS,CAAC;IAChC,OAAOC,IAAI,CAACE,cAAc,EAAE;EAC9B;EAEA,oBACE;IAAK,SAAS,EAAEpB,MAAM,CAACqB,cAAe;IAAA,UACnChB,gBAAgB,CAACiB,GAAG,CAAC,CAACC,GAAG,EAAEC,CAAC,kBAC3B;MAAK,SAAS,EAAExB,MAAM,CAACY,OAAQ;MAAA,wBAC7B;QAAK,KAAK,EAAE;UAAEa,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE;QAAgB,CAAE;QAAA,wBAC/D;UAAM,SAAS,EAAE1B,MAAM,CAAC2B,OAAQ;UAAA,UAAEJ,GAAG,CAACV;QAAQ;UAAA;UAAA;UAAA;QAAA,QAAQ,eACtD;UAAM,SAAS,EAAEb,MAAM,CAAC2B,OAAQ;UAAA,UAC7BX,uBAAuB,CAACO,GAAG,CAACT,eAAe;QAAC;UAAA;UAAA;UAAA;QAAA,QACxC;MAAA;QAAA;QAAA;QAAA;MAAA,QACH,eACN;QAAG,SAAS,EAAEd,MAAM,CAAC4B,OAAQ;QAAA,UAAEL,GAAG,CAACX;MAAO;QAAA;QAAA;QAAA;MAAA,QAAK,eAC/C;QAAA;QAAA;QAAA;MAAA,QAAM;IAAA,GAR6BY,CAAC;MAAA;MAAA;MAAA;IAAA,QAUvC;EAAC;IAAA;IAAA;IAAA;EAAA,QACE;AAEV,CAAC;AAAC,GA3CIrB,QAAQ;AAAA,KAARA,QAAQ;AA6Cd,eAAeA,QAAQ;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}